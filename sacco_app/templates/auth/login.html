{% extends 'base3.html' %}
{% block title %}Login{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center vh-100" style="background-color: #e6f0ff;">
  <div class="card shadow-lg p-4" style="width: 400px; border-radius: 15px;">
    <div class="text-center mb-3">
      <h3 class="text-primary fw-bold">PCEA CHAIRETE SACCO</h3>
      <p class="text-muted">Login in to continue</p>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- Login Form -->
    <form method="POST" action="{{ url_for('auth.login') }}">
      {{ form.hidden_tag() }}

      <div class="mb-3">
        {{ form.username.label(class="form-label fw-semibold") }}
        {{ form.username(class="form-control form-control-lg", placeholder="Enter username") }}
      </div>

      <div class="mb-3">
        {{ form.password.label(class="form-label fw-semibold") }}
        {{ form.password(class="form-control form-control-lg", placeholder="Enter password") }}
      </div>

      <div class="d-grid">
        {{ form.submit(class="btn btn-primary btn-lg") }}
      </div>
    </form>
	<a href="{{ url_for('auth.forgot_password') }}">Forgot Password?</a>

    <p class="text-center text-muted mt-3" style="font-size: 0.9rem;">
      Â© {{ current_year }} Sewaty Ventures Systems
    </p>
  </div>
</div>
{% endblock %}
